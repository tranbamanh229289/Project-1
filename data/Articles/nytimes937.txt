Stocks gave up some early gains to finish lower on Wednesday as energy companies sank with the price of oil and weak quarterly reports weighed down technology companies.
After two days of closing higher, shares rose in the morning but couldn’t hang on to the gains. Energy companies fell after energy stockpiles shrank by a smaller amount than analysts expected, and announcements from Adobe Systems and HP hurt tech stocks. Drug companies traded higher.
Trading was light as investors watched Janet L. Yellen, the chairwoman of the Federal Reserve, testify before Congress and waited for Thursday’s referendum on Britain’s membership in the European Union.
“There’s not a lot of trading out there. People are tentative,” said Randy Frederick, managing director of trading and derivatives at Charles Schwab. Britons will vote Thursday, but results won’t be known until after the United States markets are closed.
The Standard & Poor’s 500-stock index fell 3.45 points, or 0.2 percent, to 2,085.45. The Nasdaq composite edged down 10.44 points, or 0.2 percent, to 4,833.32.
The Dow Jones industrial average dipped 48.90 points, or 0.3 percent, to 17,780.83.
Bond prices rose. The yield on the 10-year Treasury note fell to 1.69 percent, from 1.71 percent on Tuesday.
In her testimony, Ms. Yellen reiterated that the Fed would be cautious in raising interest rates because of the mixed state of the economy, with consumer spending rising but investment spending weak.
The software maker Adobe Systems announced a larger-than-expected profit, but analysts were less excited about its projections for the current quarter. Adobe lost $5.71, or 5.7 percent, to $94.01.
The computer and printer maker HP forecast strong results in its fiscal third quarter but will not offer as many discounts and will carry reduced supplies. An analyst for Citi called the change a “radical shift.” HP fell 72 cents, or 5.4 percent, to $12.61.
The government said crude oil inventories fell by about 900,000 barrels last week, substantially less than experts had expected. Benchmark American crude fell 72 cents, or 1.4 percent, to $49.13 a barrel in New York. Brent crude, the benchmark for international oil prices, lost 74 cents, or 1.5 percent, to $49.88 a barrel in London.
Health care shares climbed after Medicare spending did not exceed levels that would have required action by a cost-cutting board. The review board doesn’t have any members yet, but investors have worried for months that the government will pressure drug companies to cut their prices.
Tim Anderson, an analyst for Alliance Bernstein, said the development was good for health care investors, but said spending might hit the target next year, giving the next president more leverage in trying to lower drug prices. Bristol-Myers Squibb rose $1.06, or 1.5 percent, to $72.31. Celgene, the cancer drug maker, jumped $2.37, or 2.4 percent, to $99.23.
Tesla shareholders reacted harshly after the electric carmaker offered to buy the solar panel maker SolarCity for up to $2.8 billion to try to create a one-stop shop for clean energy.
Tesla slumped $22.95, or 10.5 percent, to $196.66. SolarCity added 69 cents, or 3.3 percent, to $21.88, far below the value of the offer.

